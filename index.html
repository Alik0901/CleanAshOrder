<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Order of Ash</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
(() => {
  const box = Object.assign(document.createElement('pre'), {
    id:   'tg-log',
    style:`position:fixed;bottom:0;left:0;right:0;
           max-height:40%;overflow:auto;
           margin:0;padding:4px 6px;
           font:12px/1.35 monospace;white-space:pre-wrap;
           color:#0f0;background:rgba(0,0,0,.9);z-index:9999`
  });
  document.body.append(box);

  const show = (type, ...a) => {
    box.textContent += `[${type}] ${a.map(v=>typeof v==='object'
      ? JSON.stringify(v) : v).join(' ')}\n`;
  };

  ['log','warn','error'].forEach(k=>{
    const orig = console[k];                     // сохраняем оригинал
    console[k] = (...a)=>{ show(k, ...a); orig(...a); };
  });

  window.addEventListener('error',   e => show('onError',   e.message));
  window.addEventListener('unhandledrejection',
                          e => show('reject', e.reason?.message||e.reason));
})();
</script>
  </body>
</html>
